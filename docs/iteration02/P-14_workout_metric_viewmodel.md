# κ°λ° κ³„νμ„: P-14 μ΄λ™ ν•µμ‹¬ μ§€ν‘(ViewModel) λ…Έμ¶ κ°μ„ 

---

## π“ κ°λ° λ©ν‘

- μ΄λ™ μ§„ν–‰ ν™”λ©΄μ μ •λ³΄ λ°€λ„λ¥Ό μ μ§€ν•λ©΄μ„λ„ `μ„ΈνΈ μ§„ν–‰`λ§μΌλ΅ λ¶€μ΅±ν• ν•µμ‹¬ μν–‰ μ •λ³΄λ¥Ό λ³΄κ°•ν•λ‹¤.
- `λ¬΄κ²`, `νμ`, `μ‹κ°„`μ„ ViewModelμ— λ…μ‹μ μΌλ΅ λ‹΄μ•„ ν™”λ©΄ ν‘μ‹ κ·μΉ™μ„ λ‹¨μν™”ν•λ‹¤.
- κ°’μ΄ μ—†λ” ν•­λ©(`undefined`)μ€ λ λ”λ§ν•μ§€ μ•μ•„ μ •λ³΄ μ¤μ—Όκ³Ό λΉ λΌλ²¨ λ…Έμ¶μ„ λ°©μ§€ν•λ‹¤.
- `μ„ΈνΈ μ™„λ£` μ§ν›„ ν΄μ‹ κµ¬κ°„μ—μ„ λ‹¤μ μ„ΈνΈ μ •λ³΄(`λ‹¤μ 2/3 μ„ΈνΈ`)μ™€ μν–‰ μ§€ν‘λ¥Ό μ§κ΄€μ μΌλ΅ μ κ³µν•λ‹¤.

---

## π”§ λ³€κ²½ μ›μΉ™

1. ν™”λ©΄μ€ ν•µμ‹¬ μν–‰ μ •λ³΄λ§ λ³΄μ—¬μ¤€λ‹¤.
- κΈ°λ³Έ μ •λ³΄λ” `μ΄λ™λ…`, `μ„ΈνΈ`, `λ¬΄κ²`, `νμ`, `μ‹κ°„`μΌλ΅ μ ν•ν•λ‹¤.
- ν΄μ‹ μ¤‘μ—λ” λ‹¤μ μ„ΈνΈ κΈ°μ¤€ μ •λ³΄(`λ‹¤μ n/m μ„ΈνΈ`)λ¥Ό μ°μ„  λ…Έμ¶ν•λ‹¤.

2. ν‘μ‹ μ—¬λ¶€λ” λ°μ΄ν„°κ°€ κ²°μ •ν•λ‹¤.
- `weight`, `reps`, `duration` μ¤‘ κ°’μ΄ `undefined`μ΄λ©΄ ν•΄λ‹Ή ν•­λ©μ€ ν™”λ©΄μ— μ¶λ ¥ν•μ§€ μ•λ”λ‹¤.

3. λ„λ©”μΈ λ¨λΈκ³Ό ν™”λ©΄ λ¨λΈμ„ λ¶„λ¦¬ν•λ‹¤.
- `ExerciseDetail`μ„ μ§μ ‘ λ·°μ—μ„ ν•΄μ„ν•μ§€ μ•κ³  `WorkoutViewModel`λ΅ λ³€ν™ ν›„ λ λ”λ§ν•λ‹¤.

---

## π§© λ€μƒ μ»΄ν¬λ„νΈ

- `apps/web-client/src/pages/workout/Workout.tsx`
- `apps/web-client/src/pages/workout/WorkoutView.tsx`
- ν•„μ” μ‹ νƒ€μ… μ •μ νμΌ (`apps/web-client/src/types/exercise.ts` λλ” workout μ „μ© view-model νƒ€μ… νμΌ)
- κ΄€λ ¨ ν…μ¤νΈ νμΌ
  - `apps/web-client/src/pages/workout/Workout.test.tsx`
  - `apps/web-client/src/pages/workout/WorkoutView.test.tsx`

---

## π“ μ‘μ—… ν•­λ©

### 1) Workout ViewModel μ •μ
- [ ] `WorkoutViewModel` νƒ€μ…(λλ” `WorkoutViewData`) μ¶”κ°€
- [ ] ν•„μ/μ„ νƒ ν•„λ“ κµ¬λ¶„
  - ν•„μ: `exerciseName`, `currentSet`, `totalSets`, `percentComplete`
  - μ„ νƒ: `weight?`, `reps?`, `duration?`
- [ ] λ‹¤μ μ„ΈνΈ λ―Έλ¦¬λ³΄κΈ° ν•„λ“ μ¶”κ°€
  - `nextSetNumber?`, `nextSetLabel?`(μ: `λ‹¤μ 2/3 μ„ΈνΈ`)
  - `nextWeight?`, `nextReps?`, `nextDuration?`
- [ ] `Workout.tsx`μ—μ„ λ„λ©”μΈ λ°μ΄ν„° β†’ ViewModel λ³€ν™ ν•¨μ μ‘μ„±

### 2) WorkoutView λ λ”λ§ κ·μΉ™ μ μ©
- [ ] `WorkoutView`κ°€ ViewModel κΈ°λ°μΌλ΅ λ λ”λ§ν•λ„λ΅ props μ •λ¦¬
- [ ] `weight`, `reps`, `duration` κ°κ° `undefined`μΌ λ• λ―Έμ¶λ ¥ μ²λ¦¬
- [ ] μ—¬λ¬ μ§€ν‘κ°€ λ™μ‹μ— μ΅΄μ¬ν•λ” κ²½μ°(μ: `weight` + `reps`) λ μ΄μ•„μ›ƒ μ μ§€
- [ ] ν΄μ‹ μƒνƒμ—μ„ `λ‹¤μ n/m μ„ΈνΈ`λ¥Ό ν•­μƒ ν‘μ‹ν•κ³ , λ‹¤μ μ„ΈνΈ μ§€ν‘(`nextWeight/nextReps/nextDuration`)λ” `undefined`κ°€ μ•„λ‹ ν•­λ©λ§ ν‘μ‹
- [ ] κ°’μ΄ 0μΈ μΌ€μ΄μ¤λ” λ…ν™•ν μ •μ±…ν™”
  - κ¶μ¥: `0`μ€ μ ν¨ κ°’μΌλ΅ μ·¨κΈ‰ν•μ—¬ μ¶λ ¥ν•κ³ , μ¤μ§ `undefined`λ§ λ―Έμ¶λ ¥

### 3) UI ν‘μ‹ μ •μ±… μ •λ¦¬
- [ ] μ§€ν‘ λΌλ²¨ ν‘μ¤€ν™”
  - `λ¬΄κ²`: `xxkg`
  - `νμ`: `xxν`
  - `μ‹κ°„`: `xxλ¶„` λλ” νƒ€μ΄λ¨Έ λ‹¨μ„ μ •μ±…μ— λ§λ” ν‘κΈ°
- [ ] μ„ΈνΈ μ •λ³΄μ™€ μ§€ν‘ λΈ”λ΅μ μ‹κ°μ  μ°μ„ μμ„ μ •λ ¬
- [ ] ν΄μ‹ κµ¬κ°„ λ―Έλ¦¬λ³΄κΈ° ν¬λ§· ν‘μ¤€ν™”
  - μ: `λ‹¤μ 2/3 μ„ΈνΈ Β· 20kg Β· 10ν`
  - μ—†λ” κ°’μ€ μλ™ μƒλµ (μ: `λ‹¤μ 2/3 μ„ΈνΈ Β· 30λ¶„`)

### 4) ν…μ¤νΈ λ³΄κ°•
- [ ] `WorkoutView.test.tsx`
  - [ ] `weight`λ§ μμ„ λ• λ¬΄κ²λ§ ν‘μ‹λλ”μ§€ κ²€μ¦
  - [ ] `reps`λ§ μμ„ λ• νμλ§ ν‘μ‹λλ”μ§€ κ²€μ¦
  - [ ] `duration`λ§ μμ„ λ• μ‹κ°„λ§ ν‘μ‹λλ”μ§€ κ²€μ¦
  - [ ] `undefined` ν•­λ©μ΄ λ λ”λ§λμ§€ μ•λ”μ§€ κ²€μ¦
  - [ ] λ³µν•© μΌ€μ΄μ¤(`weight + reps`) λ™μ‹ ν‘μ‹ κ²€μ¦
  - [ ] ν΄μ‹ μƒνƒμ—μ„ `λ‹¤μ n/m μ„ΈνΈ`κ°€ ν‘μ‹λλ”μ§€ κ²€μ¦
  - [ ] ν΄μ‹ μƒνƒμ—μ„ λ‹¤μ μ„ΈνΈ μ§€ν‘κ°€ `undefined`μΌ λ• λ―Έν‘μ‹λλ”μ§€ κ²€μ¦
- [ ] `Workout.test.tsx`
  - [ ] μ‹¤μ  μ…λ ¥ λ°μ΄ν„°κ°€ ViewModel λ³€ν™ ν›„ μ¬λ°”λ¥΄κ² λ…Έμ¶λλ”μ§€ κ²€μ¦
  - [ ] μ„ΈνΈ μ™„λ£ ν›„ ν΄μ‹ ν™”λ©΄μ— λ‹¤μ μ„ΈνΈ λ―Έλ¦¬λ³΄κΈ° κ°’μ΄ λ…Έμ¶λλ”μ§€ κ²€μ¦
  - [ ] κΈ°μ΅΄ μ΄λ™ ν”λ΅μ°(μ„ΈνΈ μ™„λ£, ν΄μ‹ μ „ν™) νκ·€ μ—†μ κ²€μ¦

---

## β… μ™„λ£ κΈ°μ¤€

- [ ] μ΄λ™ μ§„ν–‰ ν™”λ©΄μ—μ„ `λ¬΄κ²/νμ/μ‹κ°„`μ΄ ViewModelμ„ ν†µν•΄ μ μ–΄λλ‹¤
- [ ] `undefined` κ°’ ν•­λ©μ€ ν™”λ©΄μ— λ…Έμ¶λμ§€ μ•λ”λ‹¤
- [ ] μ„ΈνΈ μ™„λ£ ν›„ ν΄μ‹ ν™”λ©΄μ—μ„ λ‹¤μ μ„ΈνΈ μ •λ³΄κ°€ μ§κ΄€μ μΌλ΅ λ…Έμ¶λλ‹¤
- [ ] ν•„μ”ν• ν•­λ©λ§ λ³΄μ—¬λ„ λ μ΄μ•„μ›ƒμ΄ μ•μ •μ μΌλ΅ μ μ§€λλ‹¤
- [ ] κ΄€λ ¨ ν…μ¤νΈκ°€ μ¶”κ°€/μμ •λκ³  ν†µκ³Όν•λ‹¤
