# ê°œë°œ ê³„íšì„œ: P-29 ë£¨í‹´ ìƒì„± ì €ì¥ ë° ëª©ë¡ ì¦‰ì‹œ ë°˜ì˜

---

## ğŸ“Œ ê°œë°œ ëª©í‘œ

- ë£¨í‹´ ìƒì„± í”Œë¡œìš°(S-03~S-06)ì—ì„œ `[ì™„ë£Œ]`/`[ì €ì¥]` ì‹œ ì‹¤ì œ ì„œë²„ì— ë£¨í‹´ì„ ì €ì¥í•œë‹¤.
- ì €ì¥ ì„±ê³µ í›„ S-02(ë£¨í‹´ ëª©ë¡)ë¡œ ë³µê·€í–ˆì„ ë•Œ, ë°©ê¸ˆ ì¶”ê°€í•œ ë£¨í‹´ì´ ì¦‰ì‹œ ë³´ì—¬ì•¼ í•œë‹¤.
- ì €ì¥/ë³µê·€/ì¬ì¡°íšŒ íë¦„ì„ ì‚¬ìš©ì ì…ì¥ì—ì„œ ëŠê¹€ ì—†ì´ ë™ì‘í•˜ê²Œ í•œë‹¤.

---

## ğŸ”§ ë³€ê²½ ì›ì¹™

1. ìƒì„± ë°ì´í„°ëŠ” ì„œë²„ë¥¼ ë‹¨ì¼ ì†ŒìŠ¤ë¡œ ì €ì¥í•œë‹¤.
- ë¡œì»¬ mock ì €ì¥(`addLocalPreset`)ì„ ì œê±°í•˜ê³  `POST /api/routines`ë¡œ ì¼ì›í™”í•œë‹¤.

2. ì‚¬ìš©ì ì‹ë³„ì€ Bearer í† í° ê¸°ë°˜ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.
- ìƒì„± APIëŠ” ì¸ì¦ í•„ìˆ˜ì´ë©°, í† í°ì˜ `userId` ê¸°ì¤€ìœ¼ë¡œ ë£¨í‹´ì„ ìƒì„±í•œë‹¤.

3. ì €ì¥ ì„±ê³µ í›„ ëª©ë¡ ì¼ê´€ì„±ì„ ë³´ì¥í•œë‹¤.
- S-02 ì§„ì… ì‹œ `GET /api/routines` ì¬ì¡°íšŒ ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ ë Œë”ë§í•œë‹¤.

---

## ğŸ§© ëŒ€ìƒ ë¬¸ì„œ/ì½”ë“œ

- ì‹œë‚˜ë¦¬ì˜¤
  - `docs/user-scenario/S-02_preset_selection.md`
  - `docs/user-scenario/S-05_create_routine_exercise_detail.md`
  - `docs/user-scenario/S-06_routine_title.md`
- BE
  - `apps/nest-backend/src/app/routines/routines.controller.ts`
  - `apps/nest-backend/src/app/routines/routines.service.ts`
  - `apps/nest-backend/src/app/routines/routines.repository.ts`
  - `apps/nest-backend/src/app/routines/dto/*` (ì‹ ê·œ ìƒì„± DTO)
- FE
  - `apps/web-client/src/pages/exercise-detail/ExerciseDetail.tsx`
  - `apps/web-client/src/pages/preset-selection/presetApi.ts`
  - `apps/web-client/src/pages/preset-selection/PresetSelection.tsx`
  - `apps/web-client/src/pages/routine-title/RoutineTitle.tsx` (í•„ìš” ì‹œ)

---

## ğŸ“ ì‘ì—… í•­ëª©

### 1) ë°±ì—”ë“œ: ë£¨í‹´ ìƒì„± API
- [ ] `POST /api/routines` ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ (Bearer ì¸ì¦ í•„ìˆ˜)
- [ ] ìš”ì²­ ìŠ¤í‚¤ë§ˆ ì •ì˜: `title`, `exercises[]`
- [ ] `routines` + `routine_exercises` íŠ¸ëœì­ì…˜ ì €ì¥ êµ¬í˜„
- [ ] ìƒì„± ê²°ê³¼ ì‘ë‹µì— `id`, `title`, `exerciseCount`, `createdAt` í¬í•¨

### 2) í”„ë¡ íŠ¸: ìƒì„± ì €ì¥ ì—°ë™
- [ ] ìƒì„± ëª¨ë“œ `[ì™„ë£Œ]` í›„ ì œëª© ì…ë ¥ ë‹¤ì´ì–¼ë¡œê·¸ì—ì„œ ì €ì¥ ì‹œ `POST /api/routines` í˜¸ì¶œ
- [ ] ì €ì¥ ì„±ê³µ ì‹œ `/preset-selection`ìœ¼ë¡œ ì´ë™
- [ ] ì €ì¥ ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ìì—ê²Œ ì‹¤íŒ¨ ìƒíƒœ í‘œì‹œ(ì¬ì‹œë„ ê°€ëŠ¥)

### 3) ëª©ë¡ ë°˜ì˜ ë³´ì¥
- [ ] S-02 ì§„ì… ì‹œ ê¸°ì¡´ `fetchPresets()` ì¬ì¡°íšŒ ìœ ì§€
- [ ] ë³µê·€ ì§í›„ ì¬ì¡°íšŒ ê²°ê³¼ì—ì„œ ì‹ ê·œ ë£¨í‹´ ë…¸ì¶œ í™•ì¸
- [ ] í•„ìš” ì‹œ ë‚™ê´€ì  ì—…ë°ì´íŠ¸ ëŒ€ì‹  ì„œë²„ ì‘ë‹µ ê¸°ë°˜ ë Œë”ë§ìœ¼ë¡œ ê³ ì •

### 4) í…ŒìŠ¤íŠ¸
- [ ] BE: ë£¨í‹´ ìƒì„± ì„œë¹„ìŠ¤/ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸ ì¶”ê°€
- [ ] FE: ì €ì¥ ì„±ê³µ ì‹œ `/preset-selection` ì´ë™ í…ŒìŠ¤íŠ¸
- [ ] FE: ì €ì¥ í›„ ëª©ë¡ ì¬ì¡°íšŒ ì‹œ ì‹ ê·œ ë£¨í‹´ í‘œì‹œ í…ŒìŠ¤íŠ¸
- [ ] FE: ì €ì¥ ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸

---

## âœ… ì™„ë£Œ ê¸°ì¤€

- [ ] `[ì™„ë£Œ]`/`[ì €ì¥]` ì´í›„ ë£¨í‹´ì´ DBì— ì‹¤ì œ ì €ì¥ëœë‹¤
- [ ] S-02ë¡œ ëŒì•„ì˜¤ë©´ ì¶”ê°€í•œ ë£¨í‹´ì´ ëª©ë¡ì— ì¦‰ì‹œ ë³´ì¸ë‹¤
- [ ] ì €ì¥ ì‹¤íŒ¨ ì‹œ ë£¨í‹´ ëª©ë¡ì— ì˜ëª»ëœ ë°ì´í„°ê°€ ì¶”ê°€ë˜ì§€ ì•ŠëŠ”ë‹¤
- [ ] ê´€ë ¨ í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•œë‹¤

---

## ğŸ“ API ì˜ˆì‹œ

### ìš”ì²­

```json
{
  "title": "ê°€ìŠ´ ë£¨í‹´ A",
  "exercises": [
    {
      "exerciseId": "exercise-uuid-1",
      "part": "chest",
      "name": "ë²¤ì¹˜í”„ë ˆìŠ¤",
      "sets": 3,
      "weight": 80,
      "reps": 8
    }
  ]
}
```

### ì‘ë‹µ

```json
{
  "id": "routine-uuid",
  "title": "ê°€ìŠ´ ë£¨í‹´ A",
  "exerciseCount": 1,
  "createdAt": "2026-02-17T12:00:00.000Z"
}
```
