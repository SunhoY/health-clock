# 개발 계획서: P-23 프리셋 액션 메뉴(편집/삭제) 도입

---

## 📌 개발 목표

- 프리셋 목록 우측 `>` 아이콘을 햄버거(≡) 액션 버튼으로 교체한다.
- 햄버거 클릭 또는 항목 롱클릭 시 액션 메뉴를 열고 `[편집][삭제]`를 제공한다.
- 기존 "항목 탭 = 운동 시작" 동작을 유지하면서 액션 진입 경로를 분리한다.

---

## 🔧 변경 원칙

1. 기본 진입 동작과 관리 동작을 분리한다.
- 카드 탭은 운동 시작, 액션 버튼/롱클릭은 관리 메뉴로 분리한다.

2. 모바일 우선 상호작용을 제공한다.
- 버튼 클릭과 롱클릭 둘 다 지원해 한 손 사용성과 직관성을 확보한다.

3. 삭제는 안전장치를 둔다.
- 즉시 삭제가 아닌 확인 단계(모달/바텀시트)를 거친다.

---

## 🧩 대상 코드

- 페이지
  - `apps/web-client/src/pages/preset-selection/PresetSelection.tsx`
  - `apps/web-client/src/pages/preset-selection/PresetSelectionView.tsx`
- 로컬 저장소
  - `apps/web-client/src/pages/preset-selection/presetStore.ts`
- 테스트
  - `apps/web-client/src/pages/preset-selection/PresetSelection.test.tsx`
  - `apps/web-client/src/pages/preset-selection/PresetSelectionView.test.tsx`

---

## 📝 작업 항목

### 1) UI/인터랙션
- [ ] 카드 우측 `>` 제거, 햄버거 아이콘 버튼 추가
- [ ] 햄버거 클릭 시 액션 메뉴 표시
- [ ] 항목 롱클릭(press & hold) 시 동일 액션 메뉴 표시
- [ ] 메뉴 항목 구성: `편집`, `삭제`

### 2) 액션 처리
- [ ] `편집` 선택 시 편집 플로우 진입 라우팅 정의
- [ ] `삭제` 선택 시 확인 UI 표시
- [ ] 확인 후 로컬 preset store에서 삭제 반영

### 3) 이벤트 충돌 방지
- [ ] 햄버거 클릭 시 카드 전체 클릭(운동 시작) 이벤트 전파 차단
- [ ] 롱클릭 후 탭 이벤트 중복 실행 방지

### 4) 테스트
- [ ] 햄버거 클릭으로 메뉴 노출 테스트
- [ ] 롱클릭으로 메뉴 노출 테스트
- [ ] `편집` 클릭 시 라우팅 테스트
- [ ] `삭제` 확인 시 목록 제거 테스트
- [ ] 카드 탭 기본 동작(운동 시작) 회귀 테스트

---

## ✅ 완료 기준

- [ ] 우측 액션이 햄버거 버튼으로 교체된다
- [ ] 햄버거 클릭/롱클릭으로 `편집/삭제` 메뉴가 열린다
- [ ] 편집/삭제 동작이 정상 동작한다
- [ ] 카드 탭의 기존 운동 시작 흐름은 유지된다
- [ ] 관련 테스트가 추가/수정되고 통과한다
